<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KhetBari - Premium Organic Marketplace | Fresh Farm-to-Table Produce</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Connect directly with local farmers and get the freshest organic produce delivered to your doorstep. Quality you can taste, farming you can trust in Nepal.">
  <meta name="keywords" content="organic food, fresh produce, local farmers, farm to table, Nepal, KhetBari, organic vegetables, fruits">
  <meta name="author" content="KhetBari">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://khetbari.com/">
  <meta property="og:title" content="KhetBari - Premium Organic Marketplace">
  <meta property="og:description" content="Connect directly with local farmers and get the freshest organic produce delivered to your doorstep.">
  <meta property="og:image" content="https://khetbari.com/og-image.jpg">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://khetbari.com/">
  <meta property="twitter:title" content="KhetBari - Premium Organic Marketplace">
  <meta property="twitter:description" content="Connect directly with local farmers and get the freshest organic produce delivered to your doorstep.">
  <meta property="twitter:image" content="https://khetbari.com/og-image.jpg">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌱</text></svg>">
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'GA_MEASUREMENT_ID');
  </script>
</head>

<body>
  <!-- Animated Particles Background -->
  <div class="particles" id="particles"></div>

  <!-- Header -->
  <header>
    <div class="nav-container">
      <div class="logo" onclick="showPage('home')">🌱 KhetBari</div>
      <nav>
        <ul class="nav-menu">
          <li class="nav-item active" data-page="home">Home</li>
          <li class="nav-item" data-page="products">Products</li>
          <li class="nav-item" data-page="map">Farm Map</li>
          <li class="nav-item" data-page="farmers">Farmers</li>

          <li class="nav-item" data-page="sell">Sell</li>
        </ul>
      </nav>
      <div class="header-actions">
        <div class="user-profile" id="userProfileContainer" style="display: none;">
          <div class="profile-dropdown">
            <button class="profile-btn" onclick="toggleProfileMenu()">
              <div class="profile-avatar" id="profileAvatar">👤</div>
              <span id="profileName">User</span>
              <span class="dropdown-arrow">▼</span>
            </button>
            <div class="profile-menu" id="profileMenu">
              <div class="profile-header">
                <div class="profile-avatar-large" id="profileAvatarLarge">👤</div>
                <div class="profile-info">
                  <div class="profile-name" id="profileNameLarge">User Name</div>
                  <div class="profile-type" id="profileType">Buyer</div>
                  <div class="profile-points">🎁 <span id="profilePoints">0</span> points</div>
                </div>
              </div>
              <div class="profile-menu-items">
                <a href="#" onclick="showPage('profile')">👤 My Profile</a>
                <a href="#" onclick="showPage('orders')">📦 My Orders</a>
                <a href="#" onclick="showPage('wishlist')">❤️ Wishlist</a>
                <a href="#" onclick="showPage('settings')">⚙️ Settings</a>

                <div class="profile-menu-divider"></div>
                <a href="#" onclick="logout()" style="color: #ef4444;">🚪 Logout</a>
              </div>
            </div>
          </div>
        </div>
        <button class="auth-btn" id="authBtn" onclick="showPage('auth')">
          🔐 Login
        </button>
        <button class="cart-btn" onclick="toggleCart()">
          🛒
          <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Home Page -->
    <div id="home" class="page active">
      <div class="hero">
        <h1>Fresh Organic Goodness</h1>
        <p>Connect directly with local farmers and get the freshest organic produce delivered to your doorstep. Quality
          you can taste, farming you can trust.</p>
        <button class="cta-button" onclick="startShopping()">
          Start Shopping
        </button>
      </div>
    </div>

    <!-- Products Page -->
    <div id="products" class="page">
      <div class="products-section">
        <div class="section-header">
          <h2 class="section-title">Premium Organic Products</h2>
          <div class="filters">
            <div class="search-container">
              <input type="text" class="search-box" id="searchBox" placeholder="Search products...">
              <button class="voice-search-btn" onclick="startVoiceSearch()" title="Voice Search">🎤</button>
            </div>
            <select class="sort-select" id="sortSelect">
              <option value="default">Sort by</option>
              <option value="price-asc">Price: Low to High</option>
              <option value="price-desc">Price: High to Low</option>
              <option value="name">Name A-Z</option>
              <option value="rating">Top Rated</option>
              <option value="newest">Newest First</option>
            </select>
            <select class="filter-category" id="categoryFilter">
              <option value="">All Categories</option>
              <option value="vegetables">🥬 Vegetables</option>
              <option value="fruits">🍎 Fruits</option>
              <option value="herbs">🌿 Herbs</option>
              <option value="grains">🌾 Grains</option>
              <option value="dairy">🥛 Dairy</option>
              <option value="other">📦 Other</option>
            </select>
            <button class="filter-btn" onclick="toggleAdvancedFilters()">
              🔍 Filters
            </button>
          </div>
          <div class="advanced-filters" id="advancedFilters">
            <div class="price-range">
              <label>Price Range: रू <span id="priceRangeValue">0-500</span></label>
              <input type="range" id="priceRange" min="0" max="500" value="500" oninput="updatePriceFilter()">
            </div>
            <div class="certification-filters">
              <label>Certifications:</label>
              <div class="filter-checkboxes">
                <label><input type="checkbox" value="Organic" onchange="updateFilters()"> Organic</label>
                <label><input type="checkbox" value="Non-GMO" onchange="updateFilters()"> Non-GMO</label>
                <label><input type="checkbox" value="Fair Trade" onchange="updateFilters()"> Fair Trade</label>
                <label><input type="checkbox" value="Regenerative" onchange="updateFilters()"> Regenerative</label>
              </div>
            </div>
            <div class="other-filters">
              <label><input type="checkbox" id="inSeasonOnly" onchange="updateFilters()"> In Season Only</label>
              <label><input type="checkbox" id="nearbyOnly" onchange="updateFilters()"> Nearby Farms Only (< 20
                  mi)</label>
            </div>
          </div>
        </div>
        <div class="products-grid" id="productsGrid">
          <!-- Products will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Farm Map Page -->
    <div id="map" class="page">
      <div class="products-section">
        <div class="section-header">
          <h2 class="section-title">Local Farm Locations</h2>
          <div class="map-legend">
            <span style="color: #22c55e; font-weight: 600;">🗺️ Click on farm markers to see details</span>
          </div>
        </div>
        <div id="farmMap" class="farm-map">
          <!-- Interactive map will be loaded here -->
        </div>
        <div class="farm-stats"
          style="margin-top: 2rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
          <div class="stat-card">
            <div class="stat-number" id="totalFarms">4</div>
            <div class="stat-label">Local Farms</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="avgDistance">12.5</div>
            <div class="stat-label">Avg Distance (mi)</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="organicFarms">4</div>
            <div class="stat-label">Organic Certified</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalAcres">445</div>
            <div class="stat-label">Total Acres</div>
          </div>
        </div>

      </div>
    </div>

    <!-- Sell Page -->
    <div id="sell" class="page">
      <div class="form-container">
        <h2 class="section-title" style="text-align: center; margin-bottom: 2rem;">Add Your Organic Produce</h2>
        <form id="sellForm">
          <div class="form-group">
            <label class="form-label" for="productName">Product Name</label>
            <input type="text" class="form-input" id="productName" name="productName"
              placeholder="e.g., Organic Heirloom Tomatoes" required>
          </div>

          <div class="form-group">
            <label class="form-label" for="productCategory">Category</label>
            <select class="form-input" id="productCategory" name="productCategory" required>
              <option value="">Select category</option>
              <option value="vegetables">Vegetables</option>
              <option value="fruits">Fruits</option>
              <option value="herbs">Herbs</option>
              <option value="grains">Grains</option>
              <option value="dairy">Dairy</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="productImage">Product Image</label>
            <input type="file" class="form-input" id="productImage" name="productImage" accept="image/*" required>
            <small style="color: rgba(255,255,255,0.7); margin-top: 0.5rem; display: block;">Upload a high-quality image
              of your product (required)</small>
          </div>

          <div class="form-group">
            <label class="form-label" for="productDesc">Description</label>
            <textarea class="form-textarea" id="productDesc" name="productDesc" rows="4"
              placeholder="Describe your product, growing methods, harvest date, etc..." required></textarea>
          </div>

          <div class="form-group">
            <label class="form-label" for="productPrice">Price per unit ($)</label>
            <input type="number" class="form-input" id="productPrice" name="productPrice" placeholder="5.99" min="0.01"
              step="0.01" required>
          </div>

          <div class="form-group">
            <label class="form-label" for="productUnit">Unit Type</label>
            <select class="form-input" id="productUnit" name="productUnit" required>
              <option value="">Select unit</option>
              <option value="lb">per lb</option>
              <option value="kg">per kg</option>
              <option value="each">each</option>
              <option value="bunch">per bunch</option>
              <option value="bag">per bag</option>
              <option value="box">per box</option>
              <option value="dozen">per dozen</option>
              <option value="pint">per pint</option>
              <option value="quart">per quart</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="productStock">Stock Quantity</label>
            <input type="number" class="form-input" id="productStock" name="productStock" placeholder="50" min="1"
              required>
          </div>

          <div class="form-group">
            <label class="form-label" for="farmerName">Your Farm/Producer Name</label>
            <input type="text" class="form-input" id="farmerName" name="farmerName" placeholder="Green Valley Farm"
              required>
          </div>

          <div class="form-group">
            <label class="form-label">Certifications (optional)</label>
            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 0.5rem;">
              <label style="display: flex; align-items: center; gap: 0.3rem; font-weight: normal;">
                <input type="checkbox" name="certifications" value="Organic"> Organic
              </label>
              <label style="display: flex; align-items: center; gap: 0.3rem; font-weight: normal;">
                <input type="checkbox" name="certifications" value="Non-GMO"> Non-GMO
              </label>
              <label style="display: flex; align-items: center; gap: 0.3rem; font-weight: normal;">
                <input type="checkbox" name="certifications" value="Fair Trade"> Fair Trade
              </label>
              <label style="display: flex; align-items: center; gap: 0.3rem; font-weight: normal;">
                <input type="checkbox" name="certifications" value="Regenerative"> Regenerative
              </label>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label" for="inSeason">Currently in Season?</label>
            <select class="form-input" id="inSeason" name="inSeason" required>
              <option value="true">Yes, in season</option>
              <option value="false">No, out of season</option>
            </select>
          </div>

          <button type="submit" class="cta-button" style="width: 100%;">
            Add Your Product
          </button>
        </form>
        <button class="back-btn" onclick="showPage('home')">Back to Home</button>
      </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
      <div class="cart-header">
        <h3>Your Cart</h3>
        <button class="cart-close" onclick="toggleCart()">×</button>
      </div>
      <div class="loyalty-summary">
        <div class="points-display">🎁 <span id="loyaltyPoints">0</span> points</div>
        <div class="carbon-display">🌱 Carbon Impact: <span id="cartCarbon">0</span>kg CO₂</div>
      </div>
      <div class="cart-items" id="cartItems">
        <!-- Cart items will be loaded here -->
      </div>
      <div class="cart-recommendations">
        <h4>You might also like:</h4>
        <div id="cartRecommendations"></div>
      </div>
      <div class="cart-total" id="cartTotal">
        $0.00
      </div>
      <div class="checkout-options">
        <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
        <button class="subscription-btn" onclick="createSubscription()">Subscribe & Save 15%</button>
      </div>
    </div>

    <!-- Verification Page -->
    <div id="verify" class="page">
      <div class="form-container">
        <h2 class="section-title" style="text-align: center; margin-bottom: 2rem;">Verify Your Account</h2>
        <form id="verifyForm">
          <div class="form-group">
            <label class="form-label" for="userName">Full Name</label>
            <input type="text" class="form-input" id="userName" placeholder="Your full name" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="userAge">Age</label>
            <input type="number" class="form-input" id="userAge" placeholder="18" min="18" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="userPhone">Phone Number</label>
            <input type="tel" class="form-input" id="userPhone" placeholder="+1 (555) 123-4567" required>
          </div>
          <button type="submit" class="cta-button" style="width: 100%;">
            Verify & Continue
          </button>
        </form>
      </div>
    </div>

    <!-- Location Page -->
    <div id="location" class="page">
      <div class="form-container">
        <h2 class="section-title" style="text-align: center; margin-bottom: 2rem;">Select Delivery Location</h2>
        <div class="map-container">
          📍 Interactive Map Coming Soon
          <br>
          <small>For now, please enter your address below</small>
        </div>
        <form id="locationForm">
          <div class="form-group">
            <label class="form-label" for="userAddress">Delivery Address</label>
            <textarea class="form-textarea" id="userAddress" rows="3" placeholder="Enter your full address..."
              required></textarea>
          </div>
          <button type="submit" class="cta-button" style="width: 100%;">
            Confirm Location
          </button>
        </form>
        <button class="back-btn" onclick="showPage('verify')">Back</button>
      </div>
    </div>

    <!-- Checkout Success Page -->
    <div id="success" class="page">
      <div class="success-message">
        <div class="success-icon">✅
        </div>
        <h2>Thank You!</h2>
        <p>Your order has been placed and is being processed.</p>
        <button class="back-btn" onclick="showPage('home')">Back to Home</button>
      </div>
    </div>

    <!-- Authentication Page -->
    <div id="auth" class="page">
      <div class="auth-container">
        <div class="auth-tabs">
          <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
          <button class="auth-tab" onclick="switchAuthTab('register')">Register</button>
        </div>

        <!-- Login Form -->
        <div id="loginForm" class="auth-form active">
          <h2>Welcome Back!</h2>
          <div id="loginError" class="error-message" style="display: none;"></div>
          <form onsubmit="handleLogin(event)" id="loginFormElement">
            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" class="form-input" name="email" required aria-describedby="email-error">
              <div id="email-error" class="field-error" style="display: none;"></div>
            </div>
            <div class="form-group">
              <label class="form-label">Password</label>
              <input type="password" class="form-input" name="password" required minlength="8" aria-describedby="password-error">
              <div id="password-error" class="field-error" style="display: none;"></div>
            </div>
            <div class="form-group">
              <a href="#" onclick="showPasswordReset()" class="forgot-password">Forgot Password?</a>
            </div>
            <button type="submit" class="cta-button" id="loginSubmitBtn">
              <span class="btn-text">Login</span>
              <span class="btn-spinner" style="display: none;">🔄</span>
            </button>
          </form>
          <div class="social-auth">
            <p>Or continue with:</p>
            <div class="social-buttons">
              <button class="social-btn google" onclick="handleGoogleSignIn()" id="googleSignInBtn">📧 Google</button>
              <button class="social-btn facebook" onclick="socialLogin('facebook')">📘 Facebook</button>
              <button class="social-btn apple" onclick="socialLogin('apple')">🍎 Apple</button>
            </div>
          </div>
        </div>

        <!-- Register Form -->
        <div id="registerForm" class="auth-form">
          <h2>Join KhetBari!</h2>
          <div id="registerError" class="error-message" style="display: none;"></div>
          <form onsubmit="handleRegister(event)" id="registerFormElement">
            <div class="form-group">
              <label class="form-label">Account Type</label>
              <div class="account-type-selection">
                <button type="button" class="account-type-btn active" data-type="buyer"
                  onclick="selectAccountType('buyer')">
                  🛒 Buyer
                  <small>Shop for fresh organic produce</small>
                </button>
                <button type="button" class="account-type-btn" data-type="seller" onclick="selectAccountType('seller')">
                  🌾 Seller/Farmer
                  <small>Sell your farm products</small>
                </button>
              </div>
            </div>
            <div class="form-group">
              <label class="form-label">Full Name</label>
              <input type="text" class="form-input" name="name" required aria-describedby="name-error">
              <div id="name-error" class="field-error" style="display: none;"></div>
            </div>
            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" class="form-input" name="email" required aria-describedby="register-email-error">
              <div id="register-email-error" class="field-error" style="display: none;"></div>
            </div>
            <div class="form-group">
              <label class="form-label">Password</label>
              <input type="password" class="form-input" name="password" required minlength="8" 
                     pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" 
                     aria-describedby="register-password-error">
              <div class="password-strength" id="passwordStrength"></div>
              <div id="register-password-error" class="field-error" style="display: none;"></div>
              <small style="color: rgba(255,255,255,0.6); margin-top: 0.5rem; display: block;">
                Must be 8+ characters with uppercase, lowercase, number, and special character
              </small>
            </div>
            <div class="form-group">
              <label class="form-label">Confirm Password</label>
              <input type="password" class="form-input" name="confirmPassword" required minlength="8" aria-describedby="confirm-password-error">
              <div id="confirm-password-error" class="field-error" style="display: none;"></div>
            </div>
            <div class="form-group">
              <label class="form-label">Phone Number</label>
              <input type="tel" class="form-input" name="phone" placeholder="+977-9841234567" required aria-describedby="phone-error">
              <div id="phone-error" class="field-error" style="display: none;"></div>
            </div>
            <div class="form-group">
              <label class="form-label">Address</label>
              <textarea class="form-textarea" name="address" rows="2" placeholder="Your address in Nepal" required aria-describedby="address-error"></textarea>
              <div id="address-error" class="field-error" style="display: none;"></div>
            </div>
            <div id="farmerFields" style="display: none;">
              <div class="form-group">
                <label class="form-label">Farm Name</label>
                <input type="text" class="form-input" name="farmName">
              </div>
              <div class="form-group">
                <label class="form-label">Farm Address</label>
                <textarea class="form-textarea" name="farmAddress" rows="3"></textarea>
              </div>
            </div>
            <button type="submit" class="cta-button" id="registerSubmitBtn">
              <span class="btn-text">Create Account</span>
              <span class="btn-spinner" style="display: none;">🔄</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- User Profile Page -->
    <div id="profile" class="page">
      <div class="profile-container">
        <div class="profile-sidebar">
          <div class="profile-card">
            <div class="profile-avatar-xl" id="profileAvatarXL">👤</div>
            <h3 id="profileFullName">User Name</h3>
            <p id="profileEmail">user@email.com</p>
            <div class="profile-stats">
              <div class="stat">
                <span class="stat-number" id="totalOrders">0</span>
                <span class="stat-label">Orders</span>
              </div>
              <div class="stat">
                <span class="stat-number" id="loyaltyPointsProfile">0</span>
                <span class="stat-label">Points</span>
              </div>
              <div class="stat">
                <span class="stat-number" id="carbonSaved">0</span>
                <span class="stat-label">kg CO₂ Saved</span>
              </div>
            </div>
          </div>
        </div>
        <div class="profile-content">
          <div class="profile-section">
            <h3>Personal Information</h3>
            <form id="profileForm">
              <div class="form-grid">
                <div class="form-group">
                  <label class="form-label">Full Name</label>
                  <input type="text" class="form-input" id="editName" name="name">
                </div>
                <div class="form-group">
                  <label class="form-label">Email</label>
                  <input type="email" class="form-input" id="editEmail" name="email">
                </div>
                <div class="form-group">
                  <label class="form-label">Phone</label>
                  <input type="tel" class="form-input" id="editPhone" name="phone">
                </div>
                <div class="form-group">
                  <label class="form-label">Address</label>
                  <textarea class="form-textarea" id="editAddress" name="address" rows="3"></textarea>
                </div>
              </div>
              <button type="submit" class="cta-button">Update Profile</button>
            </form>
          </div>
          <div class="profile-section">
            <h3>Preferences</h3>
            <div class="preference-list">
              <div class="preference-item">
                <span>Email Notifications</span>
                <label class="toggle">
                  <input type="checkbox" id="emailNotifications" checked>
                  <span class="slider"></span>
                </label>
              </div>
              <div class="preference-item">
                <span>SMS Notifications</span>
                <label class="toggle">
                  <input type="checkbox" id="smsNotifications">
                  <span class="slider"></span>
                </label>
              </div>
              <div class="preference-item">
                <span>Marketing Emails</span>
                <label class="toggle">
                  <input type="checkbox" id="marketingEmails" checked>
                  <span class="slider"></span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Orders Page -->
    <div id="orders" class="page">
      <div class="orders-container">
        <h2 class="section-title">My Orders</h2>
        <div class="order-filters">
          <button class="filter-btn active" data-status="all">All Orders</button>
          <button class="filter-btn" data-status="pending">Pending</button>
          <button class="filter-btn" data-status="shipped">Shipped</button>
          <button class="filter-btn" data-status="delivered">Delivered</button>
        </div>
        <div class="orders-list" id="ordersList">
          <!-- Orders will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Wishlist Page -->
    <div id="wishlist" class="page">
      <div class="wishlist-container">
        <h2 class="section-title">My Wishlist ❤️</h2>
        <div class="wishlist-grid" id="wishlistGrid">
          <!-- Wishlist items will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Settings Page -->
    <div id="settings" class="page">
      <div class="settings-container">
        <h2 class="section-title">Settings ⚙️</h2>
        <div class="settings-sections">
          <div class="settings-section">
            <h3>Account Settings</h3>
            <div class="setting-item">
              <span>Dark Mode</span>
              <label class="toggle">
                <input type="checkbox" id="darkMode" onchange="toggleDarkMode()">
                <span class="slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <span>Auto-save Cart</span>
              <label class="toggle">
                <input type="checkbox" id="autoSaveCart" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <span>Show Nutrition Scores</span>
              <label class="toggle">
                <input type="checkbox" id="showNutrition" checked>
                <span class="slider"></span>
              </label>
            </div>
          </div>
          <div class="settings-section">
            <h3>Delivery Preferences</h3>
            <div class="form-group">
              <label class="form-label">Preferred Delivery Time</label>
              <select class="form-input" id="deliveryTime">
                <option value="morning">Morning (8AM - 12PM)</option>
                <option value="afternoon">Afternoon (12PM - 5PM)</option>
                <option value="evening">Evening (5PM - 8PM)</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Delivery Instructions</label>
              <textarea class="form-textarea" id="deliveryInstructions" rows="3"
                placeholder="Special delivery instructions..."></textarea>
            </div>
          </div>
          <div class="settings-section">
            <h3>Privacy Settings</h3>
            <div class="setting-item">
              <span>Share Purchase History for Recommendations</span>
              <label class="toggle">
                <input type="checkbox" id="shareHistory" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <span>Allow Location Tracking</span>
              <label class="toggle">
                <input type="checkbox" id="locationTracking" checked>
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
        <button class="cta-button" onclick="saveSettings()">Save Settings</button>
      </div>
    </div>

    <!-- Farmers Page -->
    <div id="farmers" class="page">
      <div class="farmers-section">
        <div class="section-header">
          <h2 class="section-title">Meet Our Farmers 👨‍🌾</h2>
          <div class="farmer-filters">
            <input type="text" class="search-box" id="farmerSearch" placeholder="Search farmers...">
            <select class="sort-select" id="farmerSort">
              <option value="rating">Top Rated</option>
              <option value="distance">Nearest</option>
              <option value="experience">Most Experienced</option>
              <option value="products">Most Products</option>
            </select>
          </div>
        </div>
        <div class="farmers-grid" id="farmersGrid">
          <!-- Farmers will be loaded here -->
        </div>
      </div>
    </div>



    <!-- Error Page -->
    <div id="error" class="page">
      <div class="success-message" style="background: rgba(239, 68, 68, 0.1); border-left: 4px solid #ef4444;">
        <div class="success-icon" style="color: #ef4444;">❌</div>
        <h2>Oops!</h2>
        <p id="errorMessage">An error occurred. Please try again.</p>
        <button class="back-btn" onclick="showPage('home')">Back to Home</button>
      </div>
    </div>
  </main>

  <!-- Floating Action Button -->
  <button class="fab">
    💬
  </button>

  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <span id="toastMessage"></span>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-bottom">
      <div class="footer-container">
        <div class="footer-bottom-content">
          <p>&copy; 2024 🌱 KhetBari. All rights reserved.</p>
          <div class="footer-bottom-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Contact</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop" onclick="scrollToTop()" aria-label="Back to top">
    ↑
  </button>

  <!-- Leaflet.js for OpenStreetMap -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="script.js"></script>
</body>

</html>